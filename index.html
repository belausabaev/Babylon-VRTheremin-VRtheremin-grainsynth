<!-- babylon-webxr/index.html -->
<!DOCTYPE html>
<html>

<head>
    <title>Babylon WebXR Demo</title>

    <!-- Embed latest version of Babylon.js. -->
    <script src="https://cdn.babylonjs.com/babylon.js"></script>

    <!-- Embed Babylon loader scripts for .gltf and other filetypes. -->
    <script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>

    <!--babylon js GUI-->
    <script src="https://preview.babylonjs.com/gui/babylon.gui.min.js"></script>

    <!-- < Tweakpane GUI -->
    <script src="https://cdn.jsdelivr.net/npm/tweakpane@2.1.1/dist/tweakpane.min.js"></script>

    <!-- Embed pep.js for consistent cross-browser pointer events. -->
    <script src="https://code.jquery.com/pep/0.4.3/pep.js"></script>

    <!-- ML5 for posenet -->
    <script src="https://unpkg.com/ml5@latest/dist/ml5.min.js"></script>

    <!-- p5.js  -->
    <script src="https://cdn.jsdelivr.net/npm/p5@1.2.0/lib/p5.js"></script>

    <!-- font-family -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&family=Roboto:wght@400&display=swap');
    </style>

    <!-- css for grain params html gui -->
    <link rel="stylesheet" href="styles.css">

</head>

<body>
    <!-- show hide introduction -->
    <script>
        function hideIntro() {
            let introductionText = document.getElementById('introduction');
            introductionText.style.display = 'none';
        }
    </script>


    <div style="object-position:center">
        <div id="introduction">
            Hi there!
            <br><br>This is a virtual THEREMIN application.
            <br><br>The THEREMIN responds to your hand movements, so make sure to allow access to
            your webcam. To be able to hear anything, you will have to turn on the sound with the '►
            | ◼︎'
            button at the top right.
            <br><br>Move your left hand up and done to change the volume. Move your right hand
            through space to change the pitch.
            <br><br>Try out different sources and play around with the grain settings to fully
            explore the possible output.
            <br><br>For a simple THEREMIN sound, click on the 'THEREMIN ► | ◼︎' button.
            <br><br>
            <button type="button" class="btn" onclick="hideIntro()">OK, GOT IT!</button>
        </div>
    </div>

    <div id="video"></div>
    <canvas id="render-canvas"></canvas>
    <div id="graincanvasContainer"></div>
    <!-- grain synthesis algorithm by Jacob Johnson https://github.com/j-t-johnson/granular-machine -->
    <script src="grainsynth/grainmachine.js"></script>
    <!-- Our Babylon.js implementation. -->
    <script src="scene_twovoices.js"></script>

    <!--granular machine input GUI-->
    <header>
        <div class="wrapper">
            <div id="container">
                <h1>granular machine</h1>
            </div>
        </div>
    </header>
</body>

</html>